import{V as B,_ as v}from"./CQ6wyeMx.js";import{u as V,U as T,b as g,c as M,d as e,w as a,e as h,n,o as p,g as r,h as o,q as D,i as t,x as w,y as d,t as y,V as i,f as m,m as s,v as U,j as _,P as R,S as q,s as k}from"./Bo5CoKcQ.js";import{S as C}from"./CSlFEJh2.js";import"./BXCkih_c.js";import"./BHL3FXhg.js";const A=k("div",{class:"ftext-ht2"},"共有リンク",-1),I=k("div",{class:"ftext-ht1"}," QRコードまたはここをタップで、簡単に共有できます ",-1),N=V(),b=T(),j={components:{QRCodeVue3:C},async mounted(){this.roomId=b.params.id,this.roomData=await N.getRoom(this.roomId),this.shareUrl="https://wari.ynetlabo.net/?joinroomid="+this.roomId},data(){return{roomData:null,shareUrl:void 0,roomId:null,isMemberSelectorActive:!1,memberSelectorDestination:"cr"}},methods:{handleShareBtnTap(){navigator.share({url:this.shareUrl,title:"wa/riで割り勘"})},handleCrMemberSelected(c){n({path:"./book/cr-tran",query:{member:c}})},handleMemberBtnTap(){n("./member/list")},handleCrTrunBtnTap(){this.isMemberSelectorActive=!0},handleBookBtnTap(){n("./book/list")},handleSplitBtnTap(){n("./book/split")},handleBackBtnTap(){n("/entrance")}}},O=Object.assign(j,{__name:"dashboard",setup(c){return g({title:"ダッシュボード"}),(l,f)=>{const S=v;return p(),M("div",null,[e(h,null,{default:a(()=>[e(r,null,{default:a(()=>[e(o,{cols:"auto"},{default:a(()=>[e(D,{onClick:l.handleBackBtnTap,color:"orange-darken-2","prepend-icon":"mdi-arrow-left",variant:"tonal"},{default:a(()=>[t("マイページに戻る")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(r,null,{default:a(()=>[e(o,null,{default:a(()=>{var u;return[e(w,{color:"orange-darken-2"},{default:a(()=>[e(d,{icon:"mdi-home"})]),_:1}),t(" "+y((u=l.roomData)==null?void 0:u.roomName),1)]}),_:1})]),_:1}),e(r,null,{default:a(()=>[e(o,{cols:"6"},{default:a(()=>[e(i,{variant:"outlined",color:"orange-darken-2",onClick:l.handleMemberBtnTap},{default:a(()=>[e(m,null,{default:a(()=>[e(d,{icon:"mdi-account-group"}),t("メンバー管理 ")]),_:1}),e(s,null,{default:a(()=>[t("割り勘のメンバーを編集しましょう")]),_:1})]),_:1},8,["onClick"])]),_:1}),e(o,{cols:"6"},{default:a(()=>[e(i,{onClick:l.handleCrTrunBtnTap,variant:"outlined",color:"orange-darken-2"},{default:a(()=>[e(m,null,{default:a(()=>[e(d,{icon:"mdi-cash-multiple"}),t("支払い登録 ")]),_:1}),e(s,null,{default:a(()=>[t("メンバーの支払いを記録しましょう。")]),_:1})]),_:1},8,["onClick"])]),_:1}),e(o,{cols:"6"},{default:a(()=>[e(i,{onClick:l.handleSplitBtnTap,variant:"outlined",color:"orange-darken-2"},{default:a(()=>[e(m,null,{default:a(()=>[e(d,{icon:"mdi-set-split"}),t("割り勘結果 ")]),_:1}),e(s,null,{default:a(()=>[t("建て替え／余り金を精算しましょう")]),_:1})]),_:1},8,["onClick"])]),_:1}),e(o,{cols:"6"},{default:a(()=>[e(i,{onClick:l.handleBookBtnTap,variant:"outlined",color:"orange-darken-2"},{default:a(()=>[e(m,null,{default:a(()=>[e(d,{icon:"mdi-book"}),t("記録一覧 ")]),_:1}),e(s,null,{default:a(()=>[t("出費／集金を記録しましょう")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),e(r,null,{default:a(()=>[e(o,{cols:"12"},{default:a(()=>[l.shareUrl?(p(),U(i,{key:0,color:"orange-darken-2",variant:"elevated",onClick:l.handleShareBtnTap},{default:a(()=>[e(r,null,{default:a(()=>[e(o,{cols:"4"},{default:a(()=>[e(s,null,{default:a(()=>[e(_(C),{width:"80",height:"80","qr-options":{errorCorrectionLevel:"L"},"corners-square-options":{type:"square",imageSize:1,margin:0},value:l.shareUrl},null,8,["value"])]),_:1})]),_:1}),e(o,null,{default:a(()=>[A,I]),_:1})]),_:1})]),_:1},8,["onClick"])):R("",!0)]),_:1})]),_:1})]),_:1}),e(h,null,{default:a(()=>[e(B,{modelValue:l.isMemberSelectorActive,"onUpdate:modelValue":f[0]||(f[0]=u=>l.isMemberSelectorActive=u),rounded:"t-xl"},{default:a(()=>[e(q,{rounded:"t-xl"},{default:a(()=>[e(S,{destination:l.memberSelectorDestination,"room-id":_(b).params.id,onCrMemberSelected:l.handleCrMemberSelected,onDrMemberSelected:l.handleDrMemberSelected},null,8,["destination","room-id","onCrMemberSelected","onDrMemberSelected"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}});export{O as default};
